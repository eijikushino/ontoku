# 変更履歴 (Changelog)

All notable changes to this project will be documented in this file.

## [1.32] - 2026-02-13
### 追加
- Pattern Testタブに開始前待機機能を追加
  - 開始ボタン押下後、設定時間（分）のカウントダウン後にパターン実行開始
  - 実行制御枠内に待機タイマー表示（残りmm:ss、赤字）
  - 待機中も停止ボタンで中断可能
- Pattern Testタブに「DMM/スキャナー無しで開始可能」チェックボックスを追加
  - ONでGPIB未接続でもパターン実行可能（シリアル接続は常に必須）
  - 計測ウィンドウの同期自動開始時もDMM/スキャナー未接続なら計測をスキップ
  - 起動時は常にOFF（前回値保持なし）
### 改善
- パターン保存/読込をパターン15の下（左側）に移動し、右側の実行制御枠を拡張

## [1.31] - 2026-02-13
### 改善
- DAC操作タブにdef-controlスキルの機能をマージ
  - remote/localモード切替ボタンを追加
  - 手動コマンド入力欄を追加（DEFプレフィックスなしの生コマンド送信、Enter対応）
  - レスポンス表示ON/OFFトグルを追加（OFF時は応答を待たず高速送信）
  - 全コマンド送信時に[SEND]ログを表示するよう統一
- DAC操作タブのUIレイアウト改善
  - DEF選択を横2列レイアウトに変更（省スペース化）
  - プリセットボタンを横並びに変更（+Full / Center / -Full）
  - プリセット定数をモジュールレベルに集約

## [1.30] - 2026-02-13
### 改善
- スキャナー切替に*OPC?ハンドシェイクを追加し、CLOSE所要時間を大幅改善
  - CLOSE: 0.13〜0.27秒 → 0.003秒（GPIB busアイドル後の再接続コストを解消）
  - 1chあたり約0.6秒の高速化
- 測定間隔目安の精度を改善（オーバーヘッド: 1.03秒→0.40秒、実測誤差±0.1〜0.2秒）
- スキャナー切替時間の最小値を0.5秒→0.4秒に変更（1ch≒1.0秒を実現）
- 計測ログの詳細タイミング情報を強化
  - cpon待機+CLOSE合計、sleep実績vs要求、キュー取得遅延
  - DMM内訳（lock待ち、スレッド処理、キュー遅延、after/起動OH）
  - ch間処理時間、1周完了時の実測vs目安サマリー
### 追加
- 計測ウィンドウにログクリアボタンを追加

## [1.29] - 2026-02-09
### 変更
- スキャナー切替方式をcpon方式に変更
  - 個別OPEN (@1xx) から :system:cpon（スロット全チャンネルリセット）に統一
  - Excelマクロ（DacTestBench）と同じ方式で確実にクリーンな状態を保証
  - 計測開始時・切替時・停止時の3箇所を変更

## [1.28] - 2026-02-04
### 追加
- バージョン情報ダイアログに詳細な変更履歴表示を追加
  - スクロール可能な変更履歴ウィンドウ
  - CHANGELOG.mdからの自動読み込み
  - PyInstaller (exe) 対応
- version.py による一元的なバージョン管理を導入

## [1.27] - 2026-02-04
### 修正
- DFH重複表示を修正
- 計測表示を改善
- 温度CSV対応を追加

## [1.26] - 2026-02-03
### 変更
- 温特グラフ詳細設定ウィンドウの改善
  - UIレイアウトの最適化
  - 設定項目の整理

## [1.25] - 2026-02-03
### 追加
- 温特グラフ一括クローズ機能を追加
  - 複数のグラフウィンドウを一度に閉じる機能

## [1.24] - 2026-02-02
### 変更
- Pattern TestタブのUI改善
  - 操作性の向上
  - 表示レイアウトの最適化

## [1.23] - 2026-02-02
### 追加
- ボタンに立体感を追加
  - 押下時のvisual feedback改善
  - 視認性の向上

## [1.22] - 2026-02-02
### 変更
- タブUIの視認性を改善
  - タブ色分けの調整
  - 選択状態の明確化

## [1.21] - 2026-02-01
### 追加
- 温特グラフに温度区間矢印表示機能を追加
  - グラフ上で温度変化を視覚的に表示

## [1.20] - 2026-02-01
### 変更
- 測定間隔計算にオーバーヘッド追加
  - 実測ベース0.33秒/chのオーバーヘッドを考慮

## [1.19] - 2026-01-31
### 追加
- パターン切替待機機能を追加
- Time小数点対応

## [1.18] - 2026-01-30
### 変更
- 温度係数Excel保存機能の改善
  - 出力フォーマットの最適化

## [1.17] - 2026-01-30
### 変更
- 温度係数テーブルの改善
  - 表示形式の調整
  - 計算精度の向上

## [1.16] - 2026-01-29
### 追加
- 温特グラフ機能拡張
  - 表示オプションの追加
  - グラフ設定の保存

## [1.15] - 2026-01-29
### 追加
- 温特グラフLSB電圧実測計算機能の追加
  - 実測値からLSB電圧を自動計算

## [1.14] - 2026-01-28
### 変更
- 温特グラフ設定UIの改善
  - 設定画面のレイアウト最適化

## [1.13] - 2026-01-28
### 追加
- 温特グラフ機能の強化
  - 複数系列の同時表示
  - 凡例表示の改善

## [1.12] - 2026-01-27
### 追加
- パターン実行と計測の完全同期機能を追加
  - パターン切替と計測のタイミング制御

## [1.11] - 2026-01-26
### 追加
- グラフ表示時のスキップ設定機能を追加
  - 特定区間をスキップして表示

## [1.10] - 2026-01-25
### 変更
- CSV保存機能の改善
  - ファイル命名規則の改善
  - 保存オプションの追加

## [1.0.0] - 初期リリース
### 追加
- パターン試験機能
  - CSVパターンファイル読み込み
  - 自動パターン実行
  - ホールド・スキップ機能
- 温特グラフ表示機能
  - 温度特性グラフの描画
  - 複数ファイル対応
- GPIB通信機能
  - HP 3458A (DMM) 対応
  - HP 3499B (Switch) 対応
- シリアル通信機能
  - DEFデバイス制御
  - DAC設定
- 計測ウィンドウ
  - 自動計測ループ
  - CSV保存

### 技術詳細
- Python 3.x ベース
- tkinter GUI
- pyvisa による GPIB通信
- pyserial によるシリアル通信
- matplotlib によるグラフ描画
